<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        const inventors = [
            {first: 'An', last:'Nguyen', year:1879, passed: 1955 },
            {first: 'Dung', last:'Tran', year:1643, passed: 1727 },
            {first: 'Hai', last:'Le', year:1564, passed: 1642 },
            {first: 'Manh', last:'Duong', year:1867, passed: 1932 },
            {first: 'Toan', last:'Bui', year:1571, passed: 1632 },
            {first: 'Nhat', last:'Tran', year:1473, passed: 1543 },
            {first: 'Duong', last:'Nguyen', year:1858, passed: 1947 }
        ];

        const people = ['Hung, Tran','Anh, Nguyen','Nhat, Duong','Duong, Tran','Toan, Le','My, Le','Tuan, Phan','Yen, Tran','Tan, Nguyen','Khoa, Tran','Lanh, Le','Quang, Bui','Trung, Tran','Trung, Nguyen','Quan, Truong'];
        

        //1.Array.prototype.filter():loc danh sach cua nha phat minh ma sinh nam 1500
        const fifteen = inventors.filter(inventor => (inventor.year >=1500 && inventor.year <1600));
        
        //2.Array.prototype.map():dua ra 1 mang cua inventor ten dau va cuoi
        const fullname = inventors.map(inventor => inventor.first + ' ' + inventor.last);
        
        //3.Array.prototype.sort():sap xep inventor theo ngay sinh, gia toi tre
        const ordered = inventors.sort(function(a,b) {
            if(a.year > b.year) {
                return 1;
            }else{
                return -1;
            }
        });
        //nguyen doan tren tuong duong vs : const ordered = inventors.sort((a,b) => a.year > b.year ? 1 : -1)
        console.table(ordered);
        //4.Array.prototype.reduce(): tong tuoi cua tat ca inventor 
        const totalyear = inventors.reduce((total, inventor) => {
            return total + (inventor.passed - inventor.year);
        }, 0);
        
        //5.sap xep inventors theo tuoi
        const oldest = inventors.sort(function(a,b) {
            const lastguy = a.passed - a.year;
            const nextguy = b.passed - b.year;
            return lastguy > nextguy ? -1 : 1;
        })
        console.table(oldest)
        //6. tao list cac dai lo o paris chua 'de' trong ten
        //http://.....

        const category = document.querySelector('.mw-category');
        const links = Array.from(category .querySelectorAll('a'));
        const de = links
                        .map(link => link.textContent)
                        .filter(streetName => streetName.includes('de'));
        //7.sort Exercise
        //sap xep nguoi theo alphabet bang ten ho
        const alpha = people.sort(function(lastone, nextone){
            const [alast, aFirst] = lastone.split(', ');
            const [blast, bFirst] = nextone.split(', ');
            return alast > blast ? 1 : -1;
        })
        
        //8. Reduce Exercise
        // tong hop  
        const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck' ];
         const transportation = data.reduce(function(obj, item) {
             if(!obj[item]) {
                 obj[item] = 0;
             }
             obj[item]++
             return obj;
         }, {});
         console.log(transportation);
    </script>
</body>
</html>